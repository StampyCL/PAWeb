<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Formulaire 2</title>
</head>
<body>
	<h1>Mon premier formulaire (faux)</h1>
	<pre>
		<label>Prénom : <input type="text" name="Prenom" id="prenom"></label>
		
		<br>
		<label>Nom : <input type="text" name="Nom" id="nom"></label>
		<br>
		<button id="bouton">Ok!</button> 
	</pre>	
	<div id="reponse"></div>
</body>
<script>
document.getElementById('bouton').addEventListener('click', envoiformulaire);
 
function envoiformulaire(e) {
    var xhr = new XMLHttpRequest(); 
    // on récupère le nom et le prénom
    var pr = document.getElementById('prenom').value,
        no = document.getElementById('nom').value ;
    xhr.onload = function() {   // fonction callback
      // récupération des données renvoyées par le serveur
      var data = JSON.parse(this.responseText);
      // affichage dans la zone 'reponse' du prénom et du nom récupéré par l'appel au serveur
      document.getElementById('reponse').innerHTML = 'Bonjour '+data.given_name+' '+data.family_name;
      };
    xhr.open('GET','/toctoc?'+'Prenom='+pr+'&'+'Nom='+no,true);  // requête avec une "query string"
    xhr.send();
}
</script>
</html>